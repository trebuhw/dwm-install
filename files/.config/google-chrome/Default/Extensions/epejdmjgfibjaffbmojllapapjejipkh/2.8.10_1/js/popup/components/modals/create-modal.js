const CreateModal=new Vue({el:"#create-modal-container",data:()=>({parentFolder:{},folder:{title:"",parent:"0",isFolder:!0},modalTitle:NEW_FOLDER_TEXT,visible:!1,error:""}),methods:{toggle(){this.folder.title="",this.visible=!this.visible},async confirm(){if(!this.folder.title)return void(this.error=FOLDER_NAME_NEEDED);await checkSimilarBookmark(this.folder)?this.error=FOLDER_NAME_EXISTS:createFolder({title:this.folder.title,parent:this.folder.parent}).then((createdFolderId=>{addNodeNewFolder(this.parentFolder,{title:this.folder.title,id:createdFolderId}),doBookmarkSync()})).finally((()=>{this.toggle()}))},clearErrors(){this.error=""}},watch:{async visible(isVisible){await storageLocalApi.setItem(IS_MODAL_OPENED,!!isVisible),isVisible||(this.error="")}}});