const ImportModal=new Vue({el:"#import-modal-container",data:()=>({modalTitle:IMPORT_TEXT,visible:!1,doNotShow:!1,selectedType:""}),methods:{toggleCheckBox(){EventBus.$emit("checkboxToggle")},toggle(){this.selectedType="",this.visible=!this.visible},onSelectType(type){this.selectedType=type},async selectType(type){switch(this.toggle(),type){case"replace":this.doNotShow&&await storageLocalApi.setItem(IMPORT_OPTION,"2"),ImportNotifyModal.toggle(),replaceImported().then((res=>{const{err:err,length:length}=res;length>0?ImportNotifyModal.importDone(length):ImportNotifyModal.nothingToImport()})).then(doBookmarkSync);break;case"add":this.doNotShow&&await storageLocalApi.setItem(IMPORT_OPTION,"3"),ImportNotifyModal.toggle(),addToImported().then((res=>{const{err:err,length:length}=res;length>0?ImportNotifyModal.importDone(length):ImportNotifyModal.nothingToImport()})).then(doBookmarkSync)}await storageLocalApi.setItem(IMPORT_POPUP_CHECK,this.doNotShow)}}}),ImportOptionsModal=new Vue({el:"#import-options-modal-container",data:()=>({modalTitle:IMPORT_OPTION_TEXT,visible:!1,options:[{title:IMPORT_OPTION_SELECT,value:"1"},{title:IMPORT_REPLACE_TEXT,value:"2"},{title:IMPORT_OVERWRITE_TEXT,value:"3"}],selected:"1"}),async mounted(){null==storageLocalApi.getItem(IMPORT_OPTION)&&await storageLocalApi.setItem(IMPORT_OPTION,"1")},methods:{toggle(){this.visible=!this.visible},async confirm(){await storageLocalApi.setItem(IMPORT_OPTION,this.selected),this.toggle()}},watch:{async visible(isVisible){await storageLocalApi.setItem(IS_MODAL_OPENED,!!isVisible),isVisible&&(this.selected=storageLocalApi.getItem(IMPORT_OPTION)||this.options[0].value)}}}),ImportNotifyModal=new Vue({el:"#import-notify-modal-container",data:()=>({modalTitle:IMPORT,modalNotify:IMPORTING,visible:!1}),methods:{toggle(){this.visible=!this.visible,this.modalNotify=IMPORTING},importDone(len){this.modalNotify=`${IMPORTED} ${len} ${ITEMS_TEXT}!`,setTimeout((()=>{this.toggle(),renderBookmarks()}),1500)},nothingToImport(){this.modalNotify=ALREADY_IMPORTED,setTimeout((()=>{this.toggle()}),1500)}},updated(){this.visible&&document.querySelectorAll(".modal-close").forEach((item=>{item.style.display="none"}))}});