(()=>{let query,isPassUpdate,isPassAddNew,isPromotionInstalled,isPromotionActive,credential={},notShowAgain=!0;function openSamsungPassApp(){const iframeRemove=document.getElementById("frameIM");iframeRemove&&iframeRemove.parentElement.removeChild(iframeRemove);const newIframe=document.createElement("iframe");newIframe.id="frameIM",newIframe.style="display: none;",newIframe.src=`com.samsung-pass://?token=${Date.now()}`,document.body.appendChild(newIframe)}function openSamsungPassStore(){const iframeRemove=document.getElementById("frameIM");iframeRemove&&iframeRemove.parentElement.removeChild(iframeRemove);const newIframe=document.createElement("iframe");newIframe.id="frameIM",newIframe.style="display: none;",newIframe.src="ms-windows-store://pdp/?productid=9MVWDZ5KX9LH",document.body.appendChild(newIframe)}function onClickDonotShowAgain(){notShowAgain=!notShowAgain,document.getElementById("checkboxNotShowAgain")&&(notShowAgain?document.getElementById("checkboxNotShowAgain").classList.add("on"):document.getElementById("checkboxNotShowAgain").classList.remove("on"))}function saveCredential(){chrome.runtime.sendMessage({cmd:isPassUpdate?"UPDATE_PASSWORD":"SAVE_PASSWORD",data:credential,notShowAgain:notShowAgain}),closeNotificationPopup(!1)}function onCancel(){chrome.runtime.sendMessage({cmd:"CANCEL_SAVE_UPDATE_PASSWORD",data:credential,notShowAgain:notShowAgain}),closeNotificationPopup(!1)}function closeNotificationPopup(isPromo){isPromo?chrome.runtime.sendMessage({cmd:"CLOSE_SAVE_PASSWORD_NOTIFICATION",data:{isUserClickAction:!0},notShowAgain:notShowAgain}):chrome.runtime.sendMessage({cmd:"CLOSE_SAVE_PASSWORD_NOTIFICATION",notShowAgain:notShowAgain})}function closePromoNotificationPopup(){closeNotificationPopup(!0)}chrome.runtime.onMessage.addListener(((msg,sender,sendResponse)=>{const{cmd:cmd,from:from,data:data}=msg;if("GET_CREDENTIAL_NOTIFICATION"===cmd)credential=data.credential})),window.addEventListener("load",(function(){query=location.search.split("?")[1].split("&"),isPassUpdate=query.includes("pass-update=true"),isPassAddNew=query.includes("pass-update=false"),isPromotionInstalled=query.includes("promote-install=true"),isPromotionActive=query.includes("promote-active=true"),document.body.innerHTML=isPassAddNew?`<div class="add-credential">\n        <div class="si-header">\n          <div class="si-header-title">${chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS")}</div>\n        </div>\n        <div class="si-content">\n          <div id="si-header-save-desc">${chrome.i18n.getMessage("DREAM_SPASS_BODY_SAVE_USERNAME_AND_PASSWORD_TO_PS_Q").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</div>\n          <span class="check-box-area">\n            <span id="checkboxNotShowAgain" class="check-box"></span>\n            <span class="title">${chrome.i18n.getMessage("DREAM_SPASS_OPT_DONT_ASK_AGAIN_FOR_THIS_SITE")}</span>\n          </span>\n        </div>\n        <div class="si-footer">\n          <div class="app-modal-controls modal-footer">\n            <button id="si-btn-save" class="primary modal-button-save">${chrome.i18n.getMessage("DREAM_BR_BUTTON_SAVE_M_PASSWORD_25")}</button>\n            <button id="si-btn-cancel" class="modal-button-cancel">${chrome.i18n.getMessage("CANCEL")}</button>\n          </div>\n        </div>\n      </div>`:isPassUpdate?`<div class="update-credential">\n      <div class="si-header">\n        <div class="si-header-title">${chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS")}</div>\n      </div>\n      <div class="si-content">\n        <div id="si-header-update-desc">${chrome.i18n.getMessage("DREAM_BR_HEADER_UPDATE_SIGN_IN_INFORMATION_IN_SAMSUNG_PASS_Q").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</div>\n      </div>\n      <div class="si-footer">\n        <div class="app-modal-controls modal-footer">\n          <button id="si-btn-save" class="primary modal-button-save">${chrome.i18n.getMessage("DREAM_SPAY_BUTTON_UPDATE_10")}</button>\n          <button id="si-btn-cancel" class="modal-button-cancel">${chrome.i18n.getMessage("CANCEL")}</button>\n        </div>\n      </div>\n    </div>`:isPromotionInstalled?`<div class="promotion-install-pc-app">\n      <div class="si-header">\n        <div class="si-header-title">${chrome.i18n.getMessage("SAMSUNG_INTERNET_EXTENSION")}</div>\n      </div>\n      <div class="si-content">\n        <div id="si-header-update-desc">${chrome.i18n.getMessage("PC_BR_BODY_INSTALL_PS_TO_SYNC_THE_USERNAMES_AND_PASSWORDS_FROM_YOUR_OTHER_DEVICES").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</div>\n        <div id="si-header-update-desc">${chrome.i18n.getMessage("CONDITION_TO_INSTALL_SAMSUNG_PASS")}</div>\n      </div>\n      <div class="si-footer">\n        <div class="app-modal-controls modal-footer">\n          <button id="si-btn-save" class="primary modal-button-save">${chrome.i18n.getMessage("PC_BR_BUTTON_INSTALL_PS_30").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</button>\n          <button id="si-btn-cancel" class="modal-button-cancel">${chrome.i18n.getMessage("CANCEL")}</button>\n        </div>\n      </div>\n    </div>`:isPromotionActive?`<div class="promotion-active-pc-app">\n      <div class="si-header">\n        <div class="si-header-title">${chrome.i18n.getMessage("SAMSUNG_INTERNET_EXTENSION")}</div>\n      </div>\n      <div class="si-content">\n        <div id="si-header-update-desc">${chrome.i18n.getMessage("PC_BR_BODY_SIGN_IN_TO_PS_TO_SYNC_THE_USERNAMES_AND_PASSWORDS_FROM_YOUR_OTHER_DEVICES").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</div>\n      </div>\n      <div class="si-footer">\n        <div class="app-modal-controls modal-footer">\n          <button id="si-btn-save" class="primary modal-button-save">${chrome.i18n.getMessage("PC_BR_BUTTON_SIGN_IN_TO_PS_30").replace("%s",chrome.i18n.getMessage("DREAM_BR_HEADER_SAMSUNG_PASS"))}</button>\n          <button id="si-btn-cancel" class="modal-button-cancel" >${chrome.i18n.getMessage("CANCEL")}</button>\n        </div>\n      </div>\n    </div>`:void 0,isPassAddNew||isPassUpdate?(document.getElementById("si-btn-cancel").addEventListener("click",onCancel),document.getElementById("si-btn-save").addEventListener("click",saveCredential),chrome.runtime.sendMessage({cmd:"GET_CREDENTIAL_NOTIFICATION"}),onClickDonotShowAgain(),document.getElementById("checkboxNotShowAgain")&&document.getElementById("checkboxNotShowAgain").addEventListener("click",onClickDonotShowAgain)):isPromotionInstalled?(document.getElementById("si-btn-cancel").addEventListener("click",closePromoNotificationPopup),document.getElementById("si-btn-save").addEventListener("click",openSamsungPassStore)):isPromotionActive&&(document.getElementById("si-btn-cancel").addEventListener("click",closePromoNotificationPopup),document.getElementById("si-btn-save").addEventListener("click",openSamsungPassApp))}))})();